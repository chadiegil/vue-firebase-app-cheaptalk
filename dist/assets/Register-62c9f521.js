import{_ as C,r as a,u as M,o as k,b as m,s as f,x as A,y as E,e as h,f as g,g as s,w as i,z as v,A as w,t as I,B as q,C as y,j as B,D,m as N,l as R,p as P,q as T,E as j,G as z}from"./index-d7b1ab8d.js";const u=d=>(P("data-v-a434749f"),d=d(),T(),d),F={class:"container"},G=["onSubmit"],L=u(()=>s("p",{class:"form-title"},"Register account",-1)),W={class:"input-container"},H=u(()=>s("span",null,null,-1)),J={class:"input-container"},K={class:"input-container"},O={class:"radio-style"},Q=u(()=>s("label",{for:"male"},"Male",-1)),X=u(()=>s("label",{for:"female"},"Female",-1)),Y={key:0,class:"errMsg"},Z=u(()=>s("button",{type:"submit",class:"submit"},"Register",-1)),$={class:"signup-link"},ee={__name:"Register",setup(d){const c=a(""),n=a(""),_=a(""),l=a(""),p=a(""),b=M(),V=a(!1);k(()=>{const o=m(R,"users");console.log(o);const e=f();A(e,r=>{if(r){const t=r.uid;console.log(t)}})});const x=async o=>{const e=m(R,"users");await z(e,o)},S=async o=>{if(o.preventDefault(),n.value!==_.value){p.value="Passwords do not match";return}try{V.value=!0;const e=f(),t=(await j(e,c.value,n.value)).user,U={user_id:t.uid,name:c.value,password:n.value,gender:l.value};await x(U),console.log(t),b.push("/authors")}catch(e){p.value=e.message,console.error(e)}};return(o,e)=>{const r=E("router-link");return h(),g("div",F,[s("form",{class:"form",onSubmit:N(S,["prevent"])},[L,s("div",W,[i(s("input",{type:"email",placeholder:"Enter email","onUpdate:modelValue":e[0]||(e[0]=t=>c.value=t),required:""},null,512),[[v,c.value]]),H]),s("div",J,[i(s("input",{type:"password",placeholder:"Enter password","onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),required:""},null,512),[[v,n.value]])]),s("div",K,[i(s("input",{type:"password",placeholder:"Re-enter password","onUpdate:modelValue":e[2]||(e[2]=t=>_.value=t),required:""},null,512),[[v,_.value]])]),s("div",O,[s("div",null,[i(s("input",{type:"radio",id:"male",value:"male","onUpdate:modelValue":e[3]||(e[3]=t=>l.value=t)},null,512),[[w,l.value]]),Q]),s("div",null,[i(s("input",{type:"radio",id:"female",value:"female","onUpdate:modelValue":e[4]||(e[4]=t=>l.value=t)},null,512),[[w,l.value]]),X])]),p.value?(h(),g("p",Y,I(p.value),1)):q("",!0),Z,s("p",$,[y(" Already have an account? "),B(r,{to:"/sign-in"},{default:D(()=>[y("Sign In")]),_:1})])],40,G)])}}},te=C(ee,[["__scopeId","data-v-a434749f"]]);export{te as default};
